<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="adminProduct">
 	<!-- product add category -->
	<select id="selectCategory" resultType="adminCategoryBean">
	 	select * from `category`
	</select>

	<!-- product add -->
	<insert id="insertOne" parameterType="adminProductBean">
		insert into `product` values (#{category_id},null,#{product_name},
			#{product_content},#{product_price},#{product_stock},now(),
			#{product_image},#{product_thumb},null,null,null,null,null);
	</insert>
	
	<!-- product list -->
	<select id="selectAll" resultType="adminProductBean">
		select * from `product` order by product_id desc
	</select>
	
	<!-- product detail -->
	<select id="selectOne" parameterType="int" resultType="adminCategoryProductBean">
		 select p.category_id, c.category_refid, c.category_name, p.product_id, p.product_name, 
		 	p.product_content, p.product_price, p.product_stock, p.product_date, p.product_image, p.product_thumb,
		 		p.product_option1, p.product_option2, p.product_option3, p.product_option4, p.product_option5
				from `product` p, `category` c where p.category_id=c.category_id and p.product_id=#{value}
	</select>
	
	<!-- product edit -->
	<update id="updateOne" parameterType="adminProductBean">
		update `product` set 
			category_id = #{category_id}, 
        	product_id = #{product_id},
         	product_name = #{product_name},
	        product_content = #{product_content},
	        product_price = #{product_price},
	        product_stock = #{product_stock},
	        product_image = #{product_image},
	        product_thumb = #{product_thumb},
	        product_option1 = #{product_option1},
	        product_option2 = #{product_option2},
	        product_option3 = #{product_option3},
	        product_option4 = #{product_option4},
	        product_option5 = #{product_option5}
    	where product_id = ${product_id}
	</update>
	
	<!-- product delete -->
	<delete id="deleteOne" parameterType="int">
		delete from `product` where product_id=#{value}
	</delete>
</mapper>
  